@use '../md';
@use 'sass:map';

$tokens: (
  'plain': (
    'min-width': auto,
    'background-color': var(--md-sys-color-surface-inverse),
    'color': var(--md-sys-color-surface-inverse-on),
    'border-radius': var(--md-sys-shape-extra-small),
    'padding': 8px,
  ),
  'rich': (
    'min-width': 114px,
    'background-color': var(--md-sys-color-surface-container),
    'color': var(--md-sys-color-surface-variant-on),
    'border-radius': var(--md-sys-shape-medium),
    'padding': 12px 16px 8px 16px,
  ),
);

:host {
  @include md.declare-tokens($tokens, 'md-comp-tooltip', true);

  &[variant='plain'] {
    @include md.set-tokens(map.get($tokens, 'plain'), 'plain');
  }

  &[variant='rich'] {
    @include md.set-tokens(map.get($tokens, 'rich'), 'rich');
  }

  display: contents;
  background-color: var(--_background-color);
  color: var(--_color);
  border-radius: var(--_border-radius);
  padding: var(--_padding);

  md-popover {
    min-width: var(--_min-width);
    max-width: 280px;
    background-color: inherit;
    color: inherit;
    border-radius: inherit;
    padding: inherit;
  }

  .actions {
    display: none;
    margin: 12px -8px 0 -8px;
  }

  &:has(md-button) .actions {
    display: inline-flex;
  }
}
