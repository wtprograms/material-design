import { ChangeDetectionStrategy, Component, computed, effect, forwardRef, model, signal, viewChild, ViewEncapsulation, } from '@angular/core';
import { ButtonComponent } from '../button/button.component';
import { FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';
import { MaterialDesignValueAccessorComponent } from '../material-design-value-accessor.component';
import { FieldComponent } from '../field/field.component';
import { DialogComponent } from '../dialog/dialog.component';
import { TimeSpan } from '../../common/time-span';
import { CommonModule } from '@angular/common';
import { IconComponent } from '../icon/icon.component';
import { RippleComponent } from '../ripple/ripple.component';
import { getMeridianValues } from '../../common/date-helpers/get-meridian-values';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/forms";
export class TimePickerComponent extends MaterialDesignValueAccessorComponent {
    variant = model('embedded');
    fieldVariant = model('filled');
    label = model();
    value = model();
    selectionValue = model(this.value());
    field = viewChild('field');
    dialog = viewChild('dialog');
    hours = model(true);
    seconds = model(false);
    timeOfDay = model(false);
    locale = model('en');
    meridian = model('am');
    populated = computed(() => {
        if (this.field()?.popover()?.state() === 'closing' && !this.value()) {
            return false;
        }
        return (!!this.value() ||
            this.field()?.open() ||
            this.field()?.popover()?.state() === 'opening');
    });
    get meridianLabels() {
        return getMeridianValues(this.locale());
    }
    get valueAsTimeSpan() {
        return this.value() ? TimeSpan.parse(this.value()) : undefined;
    }
    set valueAsTimeSpan(value) {
        this.value.set(value?.toString());
    }
    get selectedValueAsTimeSpan() {
        return this.selectionValue()
            ? TimeSpan.parse(this.selectionValue())
            : undefined;
    }
    set selectedValueAsTimeSpan(value) {
        this.selectionValue.set(value?.toString());
    }
    hoursInput = signal(this.selectedValueAsTimeSpan?.hours);
    minutesInput = signal(this.selectedValueAsTimeSpan?.minutes);
    secondsInput = signal(this.selectedValueAsTimeSpan?.seconds);
    displayText = computed(() => {
        if (!this.valueAsTimeSpan) {
            return $localize `Select a time...`;
        }
        const time = this.valueAsTimeSpan.toString({
            seconds: this.seconds(),
            hours: this.hours(),
        });
        if (this.timeOfDay()) {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            return `${time} ${this.meridianLabels[this.meridian()]}`;
        }
        return time;
    });
    constructor() {
        super();
        effect(() => {
            const hours = this.hoursInput();
            const minutes = this.minutesInput();
            const seconds = this.secondsInput();
            this.selectedValueAsTimeSpan = new TimeSpan(hours, minutes, seconds);
        }, {
            allowSignalWrites: true,
        });
        effect(() => {
            if (this.variant() === 'embedded') {
                this.value.set(this.selectionValue());
            }
        }, {
            allowSignalWrites: true,
        });
        effect(() => {
            if (this.timeOfDay()) {
                if (this.meridian() === 'am' && this.hoursInput() === 12) {
                    this.hoursInput.set(0);
                }
                else if (this.meridian() === 'pm' && this.hoursInput() === 0) {
                    this.hoursInput.set(12);
                }
            }
        }, {
            allowSignalWrites: true,
        });
    }
    clearClick() {
        this.value.set(undefined);
        this.selectionValue.set(undefined);
    }
    okayClick() {
        this.value.set(this.selectionValue());
        if (this.variant() === 'dropdown') {
            this.field()?.open.set(false);
        }
        if (this.variant() === 'dialog') {
            this.dialog()?.open.set(false);
        }
    }
    cancelClick() {
        this.selectionValue.set(this.value());
        if (this.variant() === 'dropdown') {
            this.field()?.open.set(false);
        }
        if (this.variant() === 'dialog') {
            this.dialog()?.open.set(false);
        }
    }
    bodyClick() {
        if (this.variant() !== 'dialog') {
            return;
        }
        this.dialog()?.open.set(true);
    }
    popoverStateChange(state) {
        if (state === 'closed') {
            this.cancelClick();
        }
    }
    onBeforeInput(event, part) {
        const input = event.target;
        const inputEvent = event;
        if (inputEvent.inputType === 'insertText') {
            inputEvent.preventDefault();
            const min = 0;
            const max = part === 'hours' ? 12 : 59;
            let value = parseInt(input.value + (inputEvent.data ?? '0'));
            if (this.timeOfDay() || part !== 'hours') {
                if (value < min) {
                    value = min;
                }
                if (value > max) {
                    value = max;
                }
            }
            if (part === 'hours') {
                if (this.timeOfDay() && this.meridian() === 'am' && value === 12) {
                    this.hoursInput.set(0);
                }
                else if (this.timeOfDay() &&
                    this.meridian() === 'pm' &&
                    value === 0) {
                    this.hoursInput.set(12);
                }
                else {
                    this.hoursInput.set(value);
                }
            }
            if (part === 'minutes') {
                this.minutesInput.set(value);
            }
            if (part === 'seconds') {
                this.secondsInput.set(value);
            }
        }
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.9", ngImport: i0, type: TimePickerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.9", type: TimePickerComponent, isStandalone: true, selector: "md-time-picker", inputs: { variant: { classPropertyName: "variant", publicName: "variant", isSignal: true, isRequired: false, transformFunction: null }, fieldVariant: { classPropertyName: "fieldVariant", publicName: "fieldVariant", isSignal: true, isRequired: false, transformFunction: null }, label: { classPropertyName: "label", publicName: "label", isSignal: true, isRequired: false, transformFunction: null }, value: { classPropertyName: "value", publicName: "value", isSignal: true, isRequired: false, transformFunction: null }, selectionValue: { classPropertyName: "selectionValue", publicName: "selectionValue", isSignal: true, isRequired: false, transformFunction: null }, hours: { classPropertyName: "hours", publicName: "hours", isSignal: true, isRequired: false, transformFunction: null }, seconds: { classPropertyName: "seconds", publicName: "seconds", isSignal: true, isRequired: false, transformFunction: null }, timeOfDay: { classPropertyName: "timeOfDay", publicName: "timeOfDay", isSignal: true, isRequired: false, transformFunction: null }, locale: { classPropertyName: "locale", publicName: "locale", isSignal: true, isRequired: false, transformFunction: null }, meridian: { classPropertyName: "meridian", publicName: "meridian", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { variant: "variantChange", fieldVariant: "fieldVariantChange", label: "labelChange", value: "valueChange", selectionValue: "selectionValueChange", hours: "hoursChange", seconds: "secondsChange", timeOfDay: "timeOfDayChange", locale: "localeChange", meridian: "meridianChange" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: forwardRef(() => TimePickerComponent),
            },
        ], viewQueries: [{ propertyName: "field", first: true, predicate: ["field"], descendants: true, isSignal: true }, { propertyName: "dialog", first: true, predicate: ["dialog"], descendants: true, isSignal: true }], usesInheritance: true, ngImport: i0, template: "<ng-template #actions>\n  <md-button [attr.slot]=\"variant() === 'dialog' ? 'action' : null\" variant=\"text\" class=\"clear\" (click)=\"clearClick()\"\n    i18n>Clear</md-button>\n  @if (variant() !== 'embedded') {\n  <md-button [attr.slot]=\"variant() === 'dialog' ? 'action' : null\" variant=\"text\" (click)=\"okayClick()\"\n    i18n>Okay</md-button>\n  <md-button [attr.slot]=\"variant() === 'dialog' ? 'action' : null\" variant=\"text\" (click)=\"cancelClick()\"\n    i18n>Cancel</md-button>\n  }\n</ng-template>\n\n<ng-template #contents>\n  <div class=\"container\">\n    <div class=\"body\">\n      @if (hours()) {\n      <div class=\"input-container\">\n        <div class=\"input\">\n          <md-ripple [target]=\"hours\" [interactive]=\"false\" />\n          <input #hours type=\"number\" class=\"hours\" (beforeinput)=\"onBeforeInput($event, 'hours')\"\n            [(ngModel)]=\"hoursInput\">\n        </div>\n        <span class=\"input-label\" i18n>Hours</span>\n      </div>\n      <span class=\"separator\">:</span>\n      }\n      <div class=\"input-container\">\n        <div class=\"input\">\n          <md-ripple [target]=\"minutes\" [interactive]=\"false\" />\n          <input #minutes type=\"number\" class=\"minutes\" (beforeinput)=\"onBeforeInput($event, 'minutes')\"\n            [(ngModel)]=\"minutesInput\">\n        </div>\n        <span class=\"input-label\" i18n>Minutes</span>\n      </div>\n      @if (seconds()) {\n      <span class=\"separator\">:</span>\n      <div class=\"input-container\">\n        <div class=\"input\">\n          <md-ripple [target]=\"seconds\" [interactive]=\"false\" />\n          <input #seconds type=\"number\" class=\"seconds\" (beforeinput)=\"onBeforeInput($event, 'seconds')\"\n            [(ngModel)]=\"secondsInput\">\n        </div>\n        <span class=\"input-label\" i18n>Seconds</span>\n      </div>\n      }\n      @if (timeOfDay()) {\n      <div class=\"meridian\">\n        <md-button variant=\"plain\" [class.selected]=\"meridian() === 'am'\" (click)=\"meridian.set('am')\">\n          {{ meridianLabels.am }}\n        </md-button>\n        <md-button variant=\"plain\" [class.selected]=\"meridian() === 'pm'\" (click)=\"meridian.set('pm')\">\n          {{ meridianLabels.pm }}\n        </md-button>\n      </div>\n      }\n    </div>\n    @if (variant() !== 'dialog') {\n    <div class=\"actions\">\n      <ng-container *ngTemplateOutlet=\"actions\" />\n    </div>\n    }\n  </div>\n</ng-template>\n\n@if (variant() === 'embedded') {\n<ng-container *ngTemplateOutlet=\"contents\" />\n} @else {\n<md-field #field [variant]=\"fieldVariant()\" [populated]=\"!!populated()\" [errorText]=\"errorText()\" [label]=\"label()\"\n  [disabled]=\"disabled()\" (bodyClick)=\"bodyClick()\" (popoverStateChange)=\"popoverStateChange($event)\">\n  <slot name=\"leading\" slot=\"leading\"></slot>\n  <slot name=\"prefix\" slot=\"prefix\"></slot>\n  <slot name=\"suffix\" slot=\"suffix\"></slot>\n  <slot name=\"supporting-text\" slot=\"supporting-text\"></slot>\n  <slot name=\"counter\" slot=\"counter\"></slot>\n  <span class=\"selected-value\">\n    {{ displayText() }}\n  </span>\n  <md-icon slot=\"trailing\">schedule</md-icon>\n  @if (variant() === 'dropdown') {\n  <div class=\"popover\" slot=\"popover\">\n    <ng-container *ngTemplateOutlet=\"contents\" />\n  </div>\n  }\n</md-field>\n@if (variant() === 'dialog') {\n<md-dialog #dialog (stateChange)=\"popoverStateChange($event)\">\n  <md-icon slot=\"icon\">schedule</md-icon>\n  <span class=\"selected-value\" slot=\"headline\" i18n>\n    Select a time...\n  </span>\n  <slot name=\"supporting-text\" slot=\"supporting-text\"></slot>\n  <ng-container *ngTemplateOutlet=\"contents\" />\n  <ng-container *ngTemplateOutlet=\"actions\" />\n</md-dialog>\n}\n}", styles: [":host md-field::part(body){cursor:pointer}:host .popover{display:inline-flex}:host .container{display:inline-flex;flex-direction:column;isolation:isolate;flex-grow:1;background-color:var(--md-sys-color-surface-container);border-radius:var(--md-sys-shape-extra-small);padding-top:20px;padding-bottom:12px;padding-inline:12px}:host .container md-button[variant=plain]{border-inline:1px solid var(--md-sys-color-outline);height:40px}:host .container md-button[variant=plain]:first-child{border-top:1px solid var(--md-sys-color-outline);border-bottom:.5px solid var(--md-sys-color-outline);border-radius:var(--md-sys-shape-extra-small-top)}:host .container md-button[variant=plain]:last-child{border-top:.5px solid var(--md-sys-color-outline);border-bottom:1px solid var(--md-sys-color-outline);border-radius:var(--md-sys-shape-extra-small-bottom)}:host .container .body{position:relative;flex-grow:1;flex-direction:row;display:inline-flex;justify-content:center}:host .actions{display:inline-flex;justify-content:flex-end;gap:8px;flex-grow:1;margin-top:8px}:host .clear{margin-inline-end:auto}:host .selected-value{display:inline-flex;gap:8px}:host input,:host textarea{display:inline-flex;appearance:none;margin:0;padding:0;padding-inline:0;padding-block:0;border:0;outline:none;background-color:transparent;color:inherit;caret-color:inherit;resize:none;overflow:hidden;font-family:inherit;font-weight:inherit;font-size:inherit;box-sizing:border-box;height:80px;width:96px;text-align:center;border-radius:inherit}:host input::placeholder,:host textarea::placeholder{color:currentColor;opacity:1}:host input::-webkit-calendar-picker-indicator,:host textarea::-webkit-calendar-picker-indicator{display:none}:host input::-webkit-search-decoration,:host input::-webkit-search-cancel-button,:host textarea::-webkit-search-decoration,:host textarea::-webkit-search-cancel-button{display:none}:host input::-webkit-inner-spin-button,:host input::-webkit-outer-spin-button,:host textarea::-webkit-inner-spin-button,:host textarea::-webkit-outer-spin-button{display:none}:host input[type=number],:host textarea[type=number]{-moz-appearance:textfield}:host .input-container{display:inline-flex;gap:4px;flex-direction:column}:host .input-label{color:var(--md-sys-color-surface-variant-on);font-size:var(--md-sys-typescale-body-small-size);font-weight:var(--md-sys-typescale-body-small-weight);font-family:var(--md-sys-typescale-body-small-font)}:host .input{position:relative;font-size:var(--md-sys-typescale-display-large-no-rfs-size);font-weight:var(--md-sys-typescale-display-large-no-rfs-weight);font-family:var(--md-sys-typescale-display-large-no-rfs-font);caret-color:currentColor;border-radius:var(--md-sys-shape-small)}:host .hours{background-color:var(--md-sys-color-primary-container);color:var(--md-sys-color-primary-container-on)}:host .hours:focus{border:2px solid var(--md-sys-color-primary)}:host .minutes,:host .seconds{background-color:var(--md-sys-color-surface-container-highest);color:var(--md-sys-color-surface-on)}:host .minutes:focus,:host .seconds:focus{border:2px solid var(--md-sys-color-surface-on)}:host .separator{margin-inline:8px;font-size:var(--md-sys-typescale-display-large-no-rfs-size);font-weight:var(--md-sys-typescale-display-large-no-rfs-weight);font-family:var(--md-sys-typescale-display-large-no-rfs-font)}:host .meridian{display:inline-flex;flex-direction:column;margin-inline-start:16px;width:52px}:host .meridian .selected{background-color:var(--md-sys-color-tertiary-container);color:var(--md-sys-color-tertiary-container-on)}\n"], dependencies: [{ kind: "component", type: ButtonComponent, selector: "md-button", inputs: ["variant", "disabled", "type", "href", "anchorTarget", "name", "value", "progressIndeterminate", "progressValue", "progressMax"], outputs: ["variantChange", "disabledChange", "typeChange", "hrefChange", "anchorTargetChange", "nameChange", "valueChange", "progressIndeterminateChange", "progressValueChange", "progressMaxChange"] }, { kind: "component", type: DialogComponent, selector: "md-dialog", inputs: ["returnValue", "open"], outputs: ["returnValueChange", "openChange", "cancel", "stateChange"] }, { kind: "component", type: FieldComponent, selector: "md-field", inputs: ["value", "variant", "label", "populated", "open", "popoverTrigger", "maxPopoverHeight"], outputs: ["valueChange", "variantChange", "labelChange", "populatedChange", "contentClick", "bodyClick", "openChange", "popoverTriggerChange", "maxPopoverHeightChange", "popoverStateChange"] }, { kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: IconComponent, selector: "md-icon", inputs: ["filled", "size", "badgeDot", "badgeNumber", "slot"], outputs: ["filledChange", "sizeChange", "badgeDotChange", "badgeNumberChange", "slotChange"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: RippleComponent, selector: "md-ripple, [mdRipple]", inputs: ["hoverable", "interactive"], outputs: ["hoverableChange", "interactiveChange"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.ShadowDom });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.9", ngImport: i0, type: TimePickerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'md-time-picker', standalone: true, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.ShadowDom, imports: [
                        ButtonComponent,
                        DialogComponent,
                        FieldComponent,
                        CommonModule,
                        IconComponent,
                        FormsModule,
                        RippleComponent,
                    ], hostDirectives: [], host: {}, providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            multi: true,
                            useExisting: forwardRef(() => TimePickerComponent),
                        },
                    ], template: "<ng-template #actions>\n  <md-button [attr.slot]=\"variant() === 'dialog' ? 'action' : null\" variant=\"text\" class=\"clear\" (click)=\"clearClick()\"\n    i18n>Clear</md-button>\n  @if (variant() !== 'embedded') {\n  <md-button [attr.slot]=\"variant() === 'dialog' ? 'action' : null\" variant=\"text\" (click)=\"okayClick()\"\n    i18n>Okay</md-button>\n  <md-button [attr.slot]=\"variant() === 'dialog' ? 'action' : null\" variant=\"text\" (click)=\"cancelClick()\"\n    i18n>Cancel</md-button>\n  }\n</ng-template>\n\n<ng-template #contents>\n  <div class=\"container\">\n    <div class=\"body\">\n      @if (hours()) {\n      <div class=\"input-container\">\n        <div class=\"input\">\n          <md-ripple [target]=\"hours\" [interactive]=\"false\" />\n          <input #hours type=\"number\" class=\"hours\" (beforeinput)=\"onBeforeInput($event, 'hours')\"\n            [(ngModel)]=\"hoursInput\">\n        </div>\n        <span class=\"input-label\" i18n>Hours</span>\n      </div>\n      <span class=\"separator\">:</span>\n      }\n      <div class=\"input-container\">\n        <div class=\"input\">\n          <md-ripple [target]=\"minutes\" [interactive]=\"false\" />\n          <input #minutes type=\"number\" class=\"minutes\" (beforeinput)=\"onBeforeInput($event, 'minutes')\"\n            [(ngModel)]=\"minutesInput\">\n        </div>\n        <span class=\"input-label\" i18n>Minutes</span>\n      </div>\n      @if (seconds()) {\n      <span class=\"separator\">:</span>\n      <div class=\"input-container\">\n        <div class=\"input\">\n          <md-ripple [target]=\"seconds\" [interactive]=\"false\" />\n          <input #seconds type=\"number\" class=\"seconds\" (beforeinput)=\"onBeforeInput($event, 'seconds')\"\n            [(ngModel)]=\"secondsInput\">\n        </div>\n        <span class=\"input-label\" i18n>Seconds</span>\n      </div>\n      }\n      @if (timeOfDay()) {\n      <div class=\"meridian\">\n        <md-button variant=\"plain\" [class.selected]=\"meridian() === 'am'\" (click)=\"meridian.set('am')\">\n          {{ meridianLabels.am }}\n        </md-button>\n        <md-button variant=\"plain\" [class.selected]=\"meridian() === 'pm'\" (click)=\"meridian.set('pm')\">\n          {{ meridianLabels.pm }}\n        </md-button>\n      </div>\n      }\n    </div>\n    @if (variant() !== 'dialog') {\n    <div class=\"actions\">\n      <ng-container *ngTemplateOutlet=\"actions\" />\n    </div>\n    }\n  </div>\n</ng-template>\n\n@if (variant() === 'embedded') {\n<ng-container *ngTemplateOutlet=\"contents\" />\n} @else {\n<md-field #field [variant]=\"fieldVariant()\" [populated]=\"!!populated()\" [errorText]=\"errorText()\" [label]=\"label()\"\n  [disabled]=\"disabled()\" (bodyClick)=\"bodyClick()\" (popoverStateChange)=\"popoverStateChange($event)\">\n  <slot name=\"leading\" slot=\"leading\"></slot>\n  <slot name=\"prefix\" slot=\"prefix\"></slot>\n  <slot name=\"suffix\" slot=\"suffix\"></slot>\n  <slot name=\"supporting-text\" slot=\"supporting-text\"></slot>\n  <slot name=\"counter\" slot=\"counter\"></slot>\n  <span class=\"selected-value\">\n    {{ displayText() }}\n  </span>\n  <md-icon slot=\"trailing\">schedule</md-icon>\n  @if (variant() === 'dropdown') {\n  <div class=\"popover\" slot=\"popover\">\n    <ng-container *ngTemplateOutlet=\"contents\" />\n  </div>\n  }\n</md-field>\n@if (variant() === 'dialog') {\n<md-dialog #dialog (stateChange)=\"popoverStateChange($event)\">\n  <md-icon slot=\"icon\">schedule</md-icon>\n  <span class=\"selected-value\" slot=\"headline\" i18n>\n    Select a time...\n  </span>\n  <slot name=\"supporting-text\" slot=\"supporting-text\"></slot>\n  <ng-container *ngTemplateOutlet=\"contents\" />\n  <ng-container *ngTemplateOutlet=\"actions\" />\n</md-dialog>\n}\n}", styles: [":host md-field::part(body){cursor:pointer}:host .popover{display:inline-flex}:host .container{display:inline-flex;flex-direction:column;isolation:isolate;flex-grow:1;background-color:var(--md-sys-color-surface-container);border-radius:var(--md-sys-shape-extra-small);padding-top:20px;padding-bottom:12px;padding-inline:12px}:host .container md-button[variant=plain]{border-inline:1px solid var(--md-sys-color-outline);height:40px}:host .container md-button[variant=plain]:first-child{border-top:1px solid var(--md-sys-color-outline);border-bottom:.5px solid var(--md-sys-color-outline);border-radius:var(--md-sys-shape-extra-small-top)}:host .container md-button[variant=plain]:last-child{border-top:.5px solid var(--md-sys-color-outline);border-bottom:1px solid var(--md-sys-color-outline);border-radius:var(--md-sys-shape-extra-small-bottom)}:host .container .body{position:relative;flex-grow:1;flex-direction:row;display:inline-flex;justify-content:center}:host .actions{display:inline-flex;justify-content:flex-end;gap:8px;flex-grow:1;margin-top:8px}:host .clear{margin-inline-end:auto}:host .selected-value{display:inline-flex;gap:8px}:host input,:host textarea{display:inline-flex;appearance:none;margin:0;padding:0;padding-inline:0;padding-block:0;border:0;outline:none;background-color:transparent;color:inherit;caret-color:inherit;resize:none;overflow:hidden;font-family:inherit;font-weight:inherit;font-size:inherit;box-sizing:border-box;height:80px;width:96px;text-align:center;border-radius:inherit}:host input::placeholder,:host textarea::placeholder{color:currentColor;opacity:1}:host input::-webkit-calendar-picker-indicator,:host textarea::-webkit-calendar-picker-indicator{display:none}:host input::-webkit-search-decoration,:host input::-webkit-search-cancel-button,:host textarea::-webkit-search-decoration,:host textarea::-webkit-search-cancel-button{display:none}:host input::-webkit-inner-spin-button,:host input::-webkit-outer-spin-button,:host textarea::-webkit-inner-spin-button,:host textarea::-webkit-outer-spin-button{display:none}:host input[type=number],:host textarea[type=number]{-moz-appearance:textfield}:host .input-container{display:inline-flex;gap:4px;flex-direction:column}:host .input-label{color:var(--md-sys-color-surface-variant-on);font-size:var(--md-sys-typescale-body-small-size);font-weight:var(--md-sys-typescale-body-small-weight);font-family:var(--md-sys-typescale-body-small-font)}:host .input{position:relative;font-size:var(--md-sys-typescale-display-large-no-rfs-size);font-weight:var(--md-sys-typescale-display-large-no-rfs-weight);font-family:var(--md-sys-typescale-display-large-no-rfs-font);caret-color:currentColor;border-radius:var(--md-sys-shape-small)}:host .hours{background-color:var(--md-sys-color-primary-container);color:var(--md-sys-color-primary-container-on)}:host .hours:focus{border:2px solid var(--md-sys-color-primary)}:host .minutes,:host .seconds{background-color:var(--md-sys-color-surface-container-highest);color:var(--md-sys-color-surface-on)}:host .minutes:focus,:host .seconds:focus{border:2px solid var(--md-sys-color-surface-on)}:host .separator{margin-inline:8px;font-size:var(--md-sys-typescale-display-large-no-rfs-size);font-weight:var(--md-sys-typescale-display-large-no-rfs-weight);font-family:var(--md-sys-typescale-display-large-no-rfs-font)}:host .meridian{display:inline-flex;flex-direction:column;margin-inline-start:16px;width:52px}:host .meridian .selected{background-color:var(--md-sys-color-tertiary-container);color:var(--md-sys-color-tertiary-container-on)}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZS1waWNrZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvd3Rwcm9ncmFtcy9tYXRlcmlhbC1kZXNpZ24vc3JjL2xpYi9jb21wb25lbnRzL3RpbWUtcGlja2VyL3RpbWUtcGlja2VyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3d0cHJvZ3JhbXMvbWF0ZXJpYWwtZGVzaWduL3NyYy9saWIvY29tcG9uZW50cy90aW1lLXBpY2tlci90aW1lLXBpY2tlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxRQUFRLEVBQ1IsTUFBTSxFQUNOLFVBQVUsRUFDVixLQUFLLEVBQ0wsTUFBTSxFQUNOLFNBQVMsRUFDVCxpQkFBaUIsR0FDbEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzdELE9BQU8sRUFBRSxXQUFXLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRSxPQUFPLEVBQUUsb0NBQW9DLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQztBQUNuRyxPQUFPLEVBQUUsY0FBYyxFQUFnQixNQUFNLDBCQUEwQixDQUFDO0FBQ3hFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFbEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN2RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sK0NBQStDLENB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Qzt1R0F2TFUsbUJBQW1COzJGQUFuQixtQkFBbUIsOG1EQVJuQjtZQUNUO2dCQUNFLE9BQU8sRUFBRSxpQkFBaUI7Z0JBQzFCLEtBQUssRUFBRSxJQUFJO2dCQUNYLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsbUJBQW1CLENBQUM7YUFDbkQ7U0FDRixvUUNqREgscXNIQThGQyxpaUhEN0RHLGVBQWUseVlBQ2YsZUFBZSw4SkFDZixjQUFjLHNWQUNkLFlBQVksc01BQ1osYUFBYSxnTkFDYixXQUFXLGl4QkFDWCxlQUFlOzsyRkFZTixtQkFBbUI7a0JBMUIvQixTQUFTOytCQUNFLGdCQUFnQixjQUdkLElBQUksbUJBQ0MsdUJBQXVCLENBQUMsTUFBTSxpQkFDaEMsaUJBQWlCLENBQUMsU0FBUyxXQUNqQzt3QkFDUCxlQUFlO3dCQUNmLGVBQWU7d0JBQ2YsY0FBYzt3QkFDZCxZQUFZO3dCQUNaLGFBQWE7d0JBQ2IsV0FBVzt3QkFDWCxlQUFlO3FCQUNoQixrQkFDZSxFQUFFLFFBQ1osRUFBRSxhQUNHO3dCQUNUOzRCQUNFLE9BQU8sRUFBRSxpQkFBaUI7NEJBQzFCLEtBQUssRUFBRSxJQUFJOzRCQUNYLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLG9CQUFvQixDQUFDO3lCQUNuRDtxQkFDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIGNvbXB1dGVkLFxuICBlZmZlY3QsXG4gIGZvcndhcmRSZWYsXG4gIG1vZGVsLFxuICBzaWduYWwsXG4gIHZpZXdDaGlsZCxcbiAgVmlld0VuY2Fwc3VsYXRpb24sXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi4vYnV0dG9uL2J1dHRvbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgTWF0ZXJpYWxEZXNpZ25WYWx1ZUFjY2Vzc29yQ29tcG9uZW50IH0gZnJvbSAnLi4vbWF0ZXJpYWwtZGVzaWduLXZhbHVlLWFjY2Vzc29yLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBGaWVsZENvbXBvbmVudCwgRmllbGRWYXJpYW50IH0gZnJvbSAnLi4vZmllbGQvZmllbGQuY29tcG9uZW50JztcbmltcG9ydCB7IERpYWxvZ0NvbXBvbmVudCB9IGZyb20gJy4uL2RpYWxvZy9kaWFsb2cuY29tcG9uZW50JztcbmltcG9ydCB7IFRpbWVTcGFuIH0gZnJvbSAnLi4vLi4vY29tbW9uL3RpbWUtc3Bhbic7XG5pbXBvcnQgeyBPcGVuQ2xvc2VTdGF0ZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9yeGpzL29wZW4tY2xvc2UnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEljb25Db21wb25lbnQgfSBmcm9tICcuLi9pY29uL2ljb24uY29tcG9uZW50JztcbmltcG9ydCB7IFJpcHBsZUNvbXBvbmVudCB9IGZyb20gJy4uL3JpcHBsZS9yaXBwbGUuY29tcG9uZW50JztcbmltcG9ydCB7IGdldE1lcmlkaWFuVmFsdWVzIH0gZnJvbSAnLi4vLi4vY29tbW9uL2RhdGUtaGVscGVycy9nZXQtbWVyaWRpYW4tdmFsdWVzJztcblxuZXhwb3J0IHR5cGUgVGltZVBpY2tlclZhcmlhbnQgPSAnZW1iZWRkZWQnIHwgJ2Ryb3Bkb3duJyB8ICdkaWFsb2cnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtZC10aW1lLXBpY2tlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi90aW1lLXBpY2tlci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsOiAnLi90aW1lLXBpY2tlci5jb21wb25lbnQuc2NzcycsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5TaGFkb3dEb20sXG4gIGltcG9ydHM6IFtcbiAgICBCdXR0b25Db21wb25lbnQsXG4gICAgRGlhbG9nQ29tcG9uZW50LFxuICAgIEZpZWxkQ29tcG9uZW50LFxuICAgIENvbW1vbk1vZHVsZSxcbiAgICBJY29uQ29tcG9uZW50LFxuICAgIEZvcm1zTW9kdWxlLFxuICAgIFJpcHBsZUNvbXBvbmVudCxcbiAgXSxcbiAgaG9zdERpcmVjdGl2ZXM6IFtdLFxuICBob3N0OiB7fSxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRpbWVQaWNrZXJDb21wb25lbnQpLFxuICAgIH0sXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIFRpbWVQaWNrZXJDb21wb25lbnQgZXh0ZW5kcyBNYXRlcmlhbERlc2lnblZhbHVlQWNjZXNzb3JDb21wb25lbnQ8XG4gIHN0cmluZyB8IHVuZGVmaW5lZFxuPiB7XG4gIHJlYWRvbmx5IHZhcmlhbnQgPSBtb2RlbDxUaW1lUGlja2VyVmFyaWFudD4oJ2VtYmVkZGVkJyk7XG4gIHJlYWRvbmx5IGZpZWxkVmFyaWFudCA9IG1vZGVsPEZpZWxkVmFyaWFudD4oJ2ZpbGxlZCcpO1xuICByZWFkb25seSBsYWJlbCA9IG1vZGVsPHN0cmluZz4oKTtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdmFsdWUgPSBtb2RlbDxzdHJpbmcgfCB1bmRlZmluZWQ+KCk7XG4gIHJlYWRvbmx5IHNlbGVjdGlvblZhbHVlID0gbW9kZWw8c3RyaW5nIHwgdW5kZWZpbmVkPih0aGlzLnZhbHVlKCkpO1xuICByZWFkb25seSBmaWVsZCA9IHZpZXdDaGlsZDxGaWVsZENvbXBvbmVudDxzdHJpbmcgfCB1bmRlZmluZWQ+PignZmllbGQnKTtcbiAgcmVhZG9ubHkgZGlhbG9nID0gdmlld0NoaWxkPERpYWxvZ0NvbXBvbmVudD4oJ2RpYWxvZycpO1xuICByZWFkb25seSBob3VycyA9IG1vZGVsKHRydWUpO1xuICByZWFkb25seSBzZWNvbmRzID0gbW9kZWwoZmFsc2UpO1xuICByZWFkb25seSB0aW1lT2ZEYXkgPSBtb2RlbChmYWxzZSk7XG4gIHJlYWRvbmx5IGxvY2FsZSA9IG1vZGVsKCdlbicpO1xuICByZWFkb25seSBtZXJpZGlhbiA9IG1vZGVsKCdhbScpO1xuXG4gIHJlYWRvbmx5IHBvcHVsYXRlZCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAodGhpcy5maWVsZCgpPy5wb3BvdmVyKCk/LnN0YXRlKCkgPT09ICdjbG9zaW5nJyAmJiAhdGhpcy52YWx1ZSgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAhIXRoaXMudmFsdWUoKSB8fFxuICAgICAgdGhpcy5maWVsZCgpPy5vcGVuKCkgfHxcbiAgICAgIHRoaXMuZmllbGQoKT8ucG9wb3ZlcigpPy5zdGF0ZSgpID09PSAnb3BlbmluZydcbiAgICApO1xuICB9KTtcblxuICBnZXQgbWVyaWRpYW5MYWJlbHMoKSB7XG4gICAgcmV0dXJuIGdldE1lcmlkaWFuVmFsdWVzKHRoaXMubG9jYWxlKCkpO1xuICB9XG5cbiAgZ2V0IHZhbHVlQXNUaW1lU3BhbigpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSgpID8gVGltZVNwYW4ucGFyc2UodGhpcy52YWx1ZSgpISkgOiB1bmRlZmluZWQ7XG4gIH1cbiAgc2V0IHZhbHVlQXNUaW1lU3Bhbih2YWx1ZTogVGltZVNwYW4gfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnZhbHVlLnNldCh2YWx1ZT8udG9TdHJpbmcoKSk7XG4gIH1cblxuICBnZXQgc2VsZWN0ZWRWYWx1ZUFzVGltZVNwYW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uVmFsdWUoKVxuICAgICAgPyBUaW1lU3Bhbi5wYXJzZSh0aGlzLnNlbGVjdGlvblZhbHVlKCkhKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gIH1cbiAgc2V0IHNlbGVjdGVkVmFsdWVBc1RpbWVTcGFuKHZhbHVlOiBUaW1lU3BhbiB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2VsZWN0aW9uVmFsdWUuc2V0KHZhbHVlPy50b1N0cmluZygpKTtcbiAgfVxuXG4gIHJlYWRvbmx5IGhvdXJzSW5wdXQgPSBzaWduYWwodGhpcy5zZWxlY3RlZFZhbHVlQXNUaW1lU3Bhbj8uaG91cnMpO1xuICByZWFkb25seSBtaW51dGVzSW5wdXQgPSBzaWduYWwodGhpcy5zZWxlY3RlZFZhbHVlQXNUaW1lU3Bhbj8ubWludXRlcyk7XG4gIHJlYWRvbmx5IHNlY29uZHNJbnB1dCA9IHNpZ25hbCh0aGlzLnNlbGVjdGVkVmFsdWVBc1RpbWVTcGFuPy5zZWNvbmRzKTtcblxuICByZWFkb25seSBkaXNwbGF5VGV4dCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoIXRoaXMudmFsdWVBc1RpbWVTcGFuKSB7XG4gICAgICByZXR1cm4gJGxvY2FsaXplYFNlbGVjdCBhIHRpbWUuLi5gO1xuICAgIH1cbiAgICBjb25zdCB0aW1lID0gdGhpcy52YWx1ZUFzVGltZVNwYW4udG9TdHJpbmcoe1xuICAgICAgc2Vjb25kczogdGhpcy5zZWNvbmRzKCksXG4gICAgICBob3VyczogdGhpcy5ob3VycygpLFxuICAgIH0pO1xuICAgIGlmICh0aGlzLnRpbWVPZkRheSgpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgcmV0dXJuIGAke3RpbWV9ICR7KHRoaXMubWVyaWRpYW5MYWJlbHMgYXMgYW55KVt0aGlzLm1lcmlkaWFuKCldfWA7XG4gICAgfVxuICAgIHJldHVybiB0aW1lO1xuICB9KTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGVmZmVjdChcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgaG91cnMgPSB0aGlzLmhvdXJzSW5wdXQoKTtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IHRoaXMubWludXRlc0lucHV0KCk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSB0aGlzLnNlY29uZHNJbnB1dCgpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkVmFsdWVBc1RpbWVTcGFuID0gbmV3IFRpbWVTcGFuKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGFsbG93U2lnbmFsV3JpdGVzOiB0cnVlLFxuICAgICAgfVxuICAgICk7XG4gICAgZWZmZWN0KFxuICAgICAgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy52YXJpYW50KCkgPT09ICdlbWJlZGRlZCcpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLnNldCh0aGlzLnNlbGVjdGlvblZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhbGxvd1NpZ25hbFdyaXRlczogdHJ1ZSxcbiAgICAgIH1cbiAgICApO1xuICAgIGVmZmVjdChcbiAgICAgICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMudGltZU9mRGF5KCkpIHtcbiAgICAgICAgICBpZiAodGhpcy5tZXJpZGlhbigpID09PSAnYW0nICYmIHRoaXMuaG91cnNJbnB1dCgpID09PSAxMikge1xuICAgICAgICAgICAgdGhpcy5ob3Vyc0lucHV0LnNldCgwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWVyaWRpYW4oKSA9PT0gJ3BtJyAmJiB0aGlzLmhvdXJzSW5wdXQoKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5ob3Vyc0lucHV0LnNldCgxMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhbGxvd1NpZ25hbFdyaXRlczogdHJ1ZSxcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgY2xlYXJDbGljaygpIHtcbiAgICB0aGlzLnZhbHVlLnNldCh1bmRlZmluZWQpO1xuICAgIHRoaXMuc2VsZWN0aW9uVmFsdWUuc2V0KHVuZGVmaW5lZCk7XG4gIH1cblxuICBva2F5Q2xpY2soKSB7XG4gICAgdGhpcy52YWx1ZS5zZXQodGhpcy5zZWxlY3Rpb25WYWx1ZSgpKTtcbiAgICBpZiAodGhpcy52YXJpYW50KCkgPT09ICdkcm9wZG93bicpIHtcbiAgICAgIHRoaXMuZmllbGQoKT8ub3Blbi5zZXQoZmFsc2UpO1xuICAgIH1cbiAgICBpZiAodGhpcy52YXJpYW50KCkgPT09ICdkaWFsb2cnKSB7XG4gICAgICB0aGlzLmRpYWxvZygpPy5vcGVuLnNldChmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgY2FuY2VsQ2xpY2soKSB7XG4gICAgdGhpcy5zZWxlY3Rpb25WYWx1ZS5zZXQodGhpcy52YWx1ZSgpKTtcbiAgICBpZiAodGhpcy52YXJpYW50KCkgPT09ICdkcm9wZG93bicpIHtcbiAgICAgIHRoaXMuZmllbGQoKT8ub3Blbi5zZXQoZmFsc2UpO1xuICAgIH1cbiAgICBpZiAodGhpcy52YXJpYW50KCkgPT09ICdkaWFsb2cnKSB7XG4gICAgICB0aGlzLmRpYWxvZygpPy5vcGVuLnNldChmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgYm9keUNsaWNrKCkge1xuICAgIGlmICh0aGlzLnZhcmlhbnQoKSAhPT0gJ2RpYWxvZycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kaWFsb2coKT8ub3Blbi5zZXQodHJ1ZSk7XG4gIH1cblxuICBwb3BvdmVyU3RhdGVDaGFuZ2Uoc3RhdGU6IE9wZW5DbG9zZVN0YXRlKSB7XG4gICAgaWYgKHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgdGhpcy5jYW5jZWxDbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIG9uQmVmb3JlSW5wdXQoZXZlbnQ6IEV2ZW50LCBwYXJ0OiAnaG91cnMnIHwgJ21pbnV0ZXMnIHwgJ3NlY29uZHMnKSB7XG4gICAgY29uc3QgaW5wdXQgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBpbnB1dEV2ZW50ID0gZXZlbnQgYXMgSW5wdXRFdmVudDtcbiAgICBpZiAoaW5wdXRFdmVudC5pbnB1dFR5cGUgPT09ICdpbnNlcnRUZXh0Jykge1xuICAgICAgaW5wdXRFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgbWluID0gMDtcbiAgICAgIGNvbnN0IG1heCA9IHBhcnQgPT09ICdob3VycycgPyAxMiA6IDU5O1xuICAgICAgbGV0IHZhbHVlID0gcGFyc2VJbnQoaW5wdXQudmFsdWUgKyAoaW5wdXRFdmVudC5kYXRhID8/ICcwJykpO1xuXG4gICAgICBpZiAodGhpcy50aW1lT2ZEYXkoKSB8fCBwYXJ0ICE9PSAnaG91cnMnKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IG1pbikge1xuICAgICAgICAgIHZhbHVlID0gbWluO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA+IG1heCkge1xuICAgICAgICAgIHZhbHVlID0gbWF4O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJ0ID09PSAnaG91cnMnKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVPZkRheSgpICYmIHRoaXMubWVyaWRpYW4oKSA9PT0gJ2FtJyAmJiB2YWx1ZSA9PT0gMTIpIHtcbiAgICAgICAgICB0aGlzLmhvdXJzSW5wdXQuc2V0KDApO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHRoaXMudGltZU9mRGF5KCkgJiZcbiAgICAgICAgICB0aGlzLm1lcmlkaWFuKCkgPT09ICdwbScgJiZcbiAgICAgICAgICB2YWx1ZSA9PT0gMFxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmhvdXJzSW5wdXQuc2V0KDEyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmhvdXJzSW5wdXQuc2V0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFydCA9PT0gJ21pbnV0ZXMnKSB7XG4gICAgICAgIHRoaXMubWludXRlc0lucHV0LnNldCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJ0ID09PSAnc2Vjb25kcycpIHtcbiAgICAgICAgdGhpcy5zZWNvbmRzSW5wdXQuc2V0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIjxuZy10ZW1wbGF0ZSAjYWN0aW9ucz5cbiAgPG1kLWJ1dHRvbiBbYXR0ci5zbG90XT1cInZhcmlhbnQoKSA9PT0gJ2RpYWxvZycgPyAnYWN0aW9uJyA6IG51bGxcIiB2YXJpYW50PVwidGV4dFwiIGNsYXNzPVwiY2xlYXJcIiAoY2xpY2spPVwiY2xlYXJDbGljaygpXCJcbiAgICBpMThuPkNsZWFyPC9tZC1idXR0b24+XG4gIEBpZiAodmFyaWFudCgpICE9PSAnZW1iZWRkZWQnKSB7XG4gIDxtZC1idXR0b24gW2F0dHIuc2xvdF09XCJ2YXJpYW50KCkgPT09ICdkaWFsb2cnID8gJ2FjdGlvbicgOiBudWxsXCIgdmFyaWFudD1cInRleHRcIiAoY2xpY2spPVwib2theUNsaWNrKClcIlxuICAgIGkxOG4+T2theTwvbWQtYnV0dG9uPlxuICA8bWQtYnV0dG9uIFthdHRyLnNsb3RdPVwidmFyaWFudCgpID09PSAnZGlhbG9nJyA/ICdhY3Rpb24nIDogbnVsbFwiIHZhcmlhbnQ9XCJ0ZXh0XCIgKGNsaWNrKT1cImNhbmNlbENsaWNrKClcIlxuICAgIGkxOG4+Q2FuY2VsPC9tZC1idXR0b24+XG4gIH1cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjY29udGVudHM+XG4gIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICAgICAgQGlmIChob3VycygpKSB7XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dFwiPlxuICAgICAgICAgIDxtZC1yaXBwbGUgW3RhcmdldF09XCJob3Vyc1wiIFtpbnRlcmFjdGl2ZV09XCJmYWxzZVwiIC8+XG4gICAgICAgICAgPGlucHV0ICNob3VycyB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJob3Vyc1wiIChiZWZvcmVpbnB1dCk9XCJvbkJlZm9yZUlucHV0KCRldmVudCwgJ2hvdXJzJylcIlxuICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJob3Vyc0lucHV0XCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWxhYmVsXCIgaTE4bj5Ib3Vyczwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHNwYW4gY2xhc3M9XCJzZXBhcmF0b3JcIj46PC9zcGFuPlxuICAgICAgfVxuICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXRcIj5cbiAgICAgICAgICA8bWQtcmlwcGxlIFt0YXJnZXRdPVwibWludXRlc1wiIFtpbnRlcmFjdGl2ZV09XCJmYWxzZVwiIC8+XG4gICAgICAgICAgPGlucHV0ICNtaW51dGVzIHR5cGU9XCJudW1iZXJcIiBjbGFzcz1cIm1pbnV0ZXNcIiAoYmVmb3JlaW5wdXQpPVwib25CZWZvcmVJbnB1dCgkZXZlbnQsICdtaW51dGVzJylcIlxuICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJtaW51dGVzSW5wdXRcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiaW5wdXQtbGFiZWxcIiBpMThuPk1pbnV0ZXM8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIEBpZiAoc2Vjb25kcygpKSB7XG4gICAgICA8c3BhbiBjbGFzcz1cInNlcGFyYXRvclwiPjo8L3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dFwiPlxuICAgICAgICAgIDxtZC1yaXBwbGUgW3RhcmdldF09XCJzZWNvbmRzXCIgW2ludGVyYWN0aXZlXT1cImZhbHNlXCIgLz5cbiAgICAgICAgICA8aW5wdXQgI3NlY29uZHMgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwic2Vjb25kc1wiIChiZWZvcmVpbnB1dCk9XCJvbkJlZm9yZUlucHV0KCRldmVudCwgJ3NlY29uZHMnKVwiXG4gICAgICAgICAgICBbKG5nTW9kZWwpXT1cInNlY29uZHNJbnB1dFwiPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1sYWJlbFwiIGkxOG4+U2Vjb25kczwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgICAgQGlmICh0aW1lT2ZEYXkoKSkge1xuICAgICAgPGRpdiBjbGFzcz1cIm1lcmlkaWFuXCI+XG4gICAgICAgIDxtZC1idXR0b24gdmFyaWFudD1cInBsYWluXCIgW2NsYXNzLnNlbGVjdGVkXT1cIm1lcmlkaWFuKCkgPT09ICdhbSdcIiAoY2xpY2spPVwibWVyaWRpYW4uc2V0KCdhbScpXCI+XG4gICAgICAgICAge3sgbWVyaWRpYW5MYWJlbHMuYW0gfX1cbiAgICAgICAgPC9tZC1idXR0b24+XG4gICAgICAgIDxtZC1idXR0b24gdmFyaWFudD1cInBsYWluXCIgW2NsYXNzLnNlbGVjdGVkXT1cIm1lcmlkaWFuKCkgPT09ICdwbSdcIiAoY2xpY2spPVwibWVyaWRpYW4uc2V0KCdwbScpXCI+XG4gICAgICAgICAge3sgbWVyaWRpYW5MYWJlbHMucG0gfX1cbiAgICAgICAgPC9tZC1idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgICBAaWYgKHZhcmlhbnQoKSAhPT0gJ2RpYWxvZycpIHtcbiAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uc1wiPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImFjdGlvbnNcIiAvPlxuICAgIDwvZGl2PlxuICAgIH1cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuXG5AaWYgKHZhcmlhbnQoKSA9PT0gJ2VtYmVkZGVkJykge1xuPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImNvbnRlbnRzXCIgLz5cbn0gQGVsc2Uge1xuPG1kLWZpZWxkICNmaWVsZCBbdmFyaWFudF09XCJmaWVsZFZhcmlhbnQoKVwiIFtwb3B1bGF0ZWRdPVwiISFwb3B1bGF0ZWQoKVwiIFtlcnJvclRleHRdPVwiZXJyb3JUZXh0KClcIiBbbGFiZWxdPVwibGFiZWwoKVwiXG4gIFtkaXNhYmxlZF09XCJkaXNhYmxlZCgpXCIgKGJvZHlDbGljayk9XCJib2R5Q2xpY2soKVwiIChwb3BvdmVyU3RhdGVDaGFuZ2UpPVwicG9wb3ZlclN0YXRlQ2hhbmdlKCRldmVudClcIj5cbiAgPHNsb3QgbmFtZT1cImxlYWRpbmdcIiBzbG90PVwibGVhZGluZ1wiPjwvc2xvdD5cbiAgPHNsb3QgbmFtZT1cInByZWZpeFwiIHNsb3Q9XCJwcmVmaXhcIj48L3Nsb3Q+XG4gIDxzbG90IG5hbWU9XCJzdWZmaXhcIiBzbG90PVwic3VmZml4XCI+PC9zbG90PlxuICA8c2xvdCBuYW1lPVwic3VwcG9ydGluZy10ZXh0XCIgc2xvdD1cInN1cHBvcnRpbmctdGV4dFwiPjwvc2xvdD5cbiAgPHNsb3QgbmFtZT1cImNvdW50ZXJcIiBzbG90PVwiY291bnRlclwiPjwvc2xvdD5cbiAgPHNwYW4gY2xhc3M9XCJzZWxlY3RlZC12YWx1ZVwiPlxuICAgIHt7IGRpc3BsYXlUZXh0KCkgfX1cbiAgPC9zcGFuPlxuICA8bWQtaWNvbiBzbG90PVwidHJhaWxpbmdcIj5zY2hlZHVsZTwvbWQtaWNvbj5cbiAgQGlmICh2YXJpYW50KCkgPT09ICdkcm9wZG93bicpIHtcbiAgPGRpdiBjbGFzcz1cInBvcG92ZXJcIiBzbG90PVwicG9wb3ZlclwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJjb250ZW50c1wiIC8+XG4gIDwvZGl2PlxuICB9XG48L21kLWZpZWxkPlxuQGlmICh2YXJpYW50KCkgPT09ICdkaWFsb2cnKSB7XG48bWQtZGlhbG9nICNkaWFsb2cgKHN0YXRlQ2hhbmdlKT1cInBvcG92ZXJTdGF0ZUNoYW5nZSgkZXZlbnQpXCI+XG4gIDxtZC1pY29uIHNsb3Q9XCJpY29uXCI+c2NoZWR1bGU8L21kLWljb24+XG4gIDxzcGFuIGNsYXNzPVwic2VsZWN0ZWQtdmFsdWVcIiBzbG90PVwiaGVhZGxpbmVcIiBpMThuPlxuICAgIFNlbGVjdCBhIHRpbWUuLi5cbiAgPC9zcGFuPlxuICA8c2xvdCBuYW1lPVwic3VwcG9ydGluZy10ZXh0XCIgc2xvdD1cInN1cHBvcnRpbmctdGV4dFwiPjwvc2xvdD5cbiAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImNvbnRlbnRzXCIgLz5cbiAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImFjdGlvbnNcIiAvPlxuPC9tZC1kaWFsb2c+XG59XG59Il19