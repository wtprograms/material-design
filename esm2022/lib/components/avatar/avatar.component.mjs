import { ChangeDetectionStrategy, Component, computed, model, viewChild, ViewEncapsulation, } from '@angular/core';
import { MaterialDesignComponent } from '../material-design.component';
import { RippleComponent } from '../ripple/ripple.component';
import { ForwardFocusDirective } from '../../directives/forward-focus.directive';
import { CommonModule } from '@angular/common';
import { TouchAreaComponent } from '../touch-area/touch-area.component';
import { ParentActivationDirective } from '../../directives/parent-activation.directive';
import { BadgeComponent } from '../badge/badge.component';
import { ProgressIndicatorComponent } from '../progress-indicator/progress-indicator.component';
import { attachTarget } from '../../directives/attachable.directive';
import { FocusRingComponent } from '../focus-ring/focus-ring.component';
import * as i0 from "@angular/core";
import * as i1 from "../../directives/forward-focus.directive";
import * as i2 from "../../directives/parent-activation.directive";
import * as i3 from "@angular/common";
export class AvatarComponent extends MaterialDesignComponent {
    disabled = model(false);
    type = model(undefined);
    href = model();
    anchorTarget = model();
    name = model();
    value = model();
    progressIndeterminate = model(false);
    progressValue = model(0);
    progressMax = model(0);
    badgeDot = model(false);
    badgeNumber = model();
    src = model();
    palette = model('primary');
    fullName = model();
    size = model();
    slot = model();
    button = viewChild('button');
    initial = computed(() => this.fullName() ? this.fullName()[0] : '');
    constructor() {
        super();
        attachTarget(ForwardFocusDirective, this.button);
        attachTarget(ParentActivationDirective, this.button);
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.9", ngImport: i0, type: AvatarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.9", type: AvatarComponent, isStandalone: true, selector: "md-avatar", inputs: { disabled: { classPropertyName: "disabled", publicName: "disabled", isSignal: true, isRequired: false, transformFunction: null }, type: { classPropertyName: "type", publicName: "type", isSignal: true, isRequired: false, transformFunction: null }, href: { classPropertyName: "href", publicName: "href", isSignal: true, isRequired: false, transformFunction: null }, anchorTarget: { classPropertyName: "anchorTarget", publicName: "anchorTarget", isSignal: true, isRequired: false, transformFunction: null }, name: { classPropertyName: "name", publicName: "name", isSignal: true, isRequired: false, transformFunction: null }, value: { classPropertyName: "value", publicName: "value", isSignal: true, isRequired: false, transformFunction: null }, progressIndeterminate: { classPropertyName: "progressIndeterminate", publicName: "progressIndeterminate", isSignal: true, isRequired: false, transformFunction: null }, progressValue: { classPropertyName: "progressValue", publicName: "progressValue", isSignal: true, isRequired: false, transformFunction: null }, progressMax: { classPropertyName: "progressMax", publicName: "progressMax", isSignal: true, isRequired: false, transformFunction: null }, badgeDot: { classPropertyName: "badgeDot", publicName: "badgeDot", isSignal: true, isRequired: false, transformFunction: null }, badgeNumber: { classPropertyName: "badgeNumber", publicName: "badgeNumber", isSignal: true, isRequired: false, transformFunction: null }, src: { classPropertyName: "src", publicName: "src", isSignal: true, isRequired: false, transformFunction: null }, palette: { classPropertyName: "palette", publicName: "palette", isSignal: true, isRequired: false, transformFunction: null }, fullName: { classPropertyName: "fullName", publicName: "fullName", isSignal: true, isRequired: false, transformFunction: null }, size: { classPropertyName: "size", publicName: "size", isSignal: true, isRequired: false, transformFunction: null }, slot: { classPropertyName: "slot", publicName: "slot", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { disabled: "disabledChange", type: "typeChange", href: "hrefChange", anchorTarget: "anchorTargetChange", name: "nameChange", value: "valueChange", progressIndeterminate: "progressIndeterminateChange", progressValue: "progressValueChange", progressMax: "progressMaxChange", badgeDot: "badgeDotChange", badgeNumber: "badgeNumberChange", src: "srcChange", palette: "paletteChange", fullName: "fullNameChange", size: "sizeChange", slot: "slotChange" }, host: { properties: { "attr.palette": "palette()", "attr.interactive": "!!type() || !!href() || null", "style.--md-comp-avatar-size": "size() ?? null", "attr.disabled": "disabled() || null", "attr.busy": "progressIndeterminate() || !!progressValue() || null" } }, viewQueries: [{ propertyName: "button", first: true, predicate: ["button"], descendants: true, isSignal: true }], usesInheritance: true, hostDirectives: [{ directive: i1.ForwardFocusDirective }, { directive: i2.ParentActivationDirective }], ngImport: i0, template: "<ng-template #content>\n  <md-touch-area />\n  @if (src()) {\n  @defer {\n  <img [src]=\"src()\" [alt]=\"fullName()\" />\n  }\n  } @else {\n  <span class=\"initials\">\n    {{ initial() }}\n  </span>\n  }\n</ng-template>\n\n@if (this.type() || this.href()) {\n<md-focus-ring part=\"focus-ring\" [target]=\"button()\" />\n<md-ripple part=\"ripple\" [target]=\"button()\" />\n@if (href()) {\n<a part=\"button\" #button [attr.href]=\"href() ?? null\" [attr.target]=\"anchorTarget() ?? null\"\n  [tabIndex]=\"disabled() ? -1 : 0\">\n  <ng-container *ngTemplateOutlet=\"content\" class=\"content\" />\n</a>\n} @else {\n<button part=\"button\" #button [type]=\"type()\" [disabled]=\"disabled()\" [attr.name]=\"name() ?? null\"\n  [attr.value]=\"value() ?? null\">\n  <ng-container *ngTemplateOutlet=\"content\" />\n</button>\n}\n} @else {\n<ng-container *ngTemplateOutlet=\"content\" />\n}\n@if (badgeDot() || badgeNumber()) {\n<md-badge part=\"badge\" [dot]=\"badgeDot()\" [number]=\"badgeNumber()\" />\n}\n\n@if (!disabled() && (progressValue() || progressIndeterminate())) {\n<md-progress-indicator [value]=\"progressValue()\" [indeterminate]=\"progressIndeterminate()\" />\n}", styles: [":host{--md-comp-avatar-size: 40;--_size-px: calc(var(--md-comp-avatar-size) * 1px);--_color: currentColor;position:relative;border-radius:var(--md-sys-shape-full);height:var(--_size-px);width:var(--_size-px);flex-shrink:0;font-size:var(--md-sys-typescale-label-large-size);font-weight:var(--md-sys-typescale-label-large-weight);font-family:var(--md-sys-typescale-label-large-font);font-size:calc(var(--_size-px) * .45);justify-content:center;align-items:center;display:inline-flex;overflow:hidden;transition-property:background-color,border,color;transition-duration:var(--md-sys-motion-duration-short-4);transition-timing-function:var(--md-sys-motion-easing-standard)}:host img{height:var(--_size-px);width:var(--_size-px);transition-property:opacity;transition-duration:var(--md-sys-motion-duration-short-4);transition-timing-function:var(--md-sys-motion-easing-standard)}:host button,:host a{background-color:transparent;display:inherit;font:inherit;color:inherit;padding:0;margin:0;gap:inherit;text-decoration:none;border-radius:inherit;appearance:none;border:0;outline:none;cursor:pointer;align-items:center;transition-property:opacity;transition-duration:var(--md-sys-motion-duration-short-4);transition-timing-function:var(--md-sys-motion-easing-standard)}:host md-ripple{--md-comp-ripple-color: var(--_color);--md-comp-ripple-transform-default: scale(0);--md-comp-ripple-transform-hover: scale(1);z-index:1}:host md-progress-indicator{--md-comp-progress-indicator-color: var(--_color);--md-comp-progress-indicator-size: calc(var(--md-comp-avatar-size) * .6);position:absolute;display:inline-flex;align-self:center}:host .content{transition-property:opacity;transition-duration:var(--md-sys-motion-duration-short-4);transition-timing-function:var(--md-sys-motion-easing-standard)}:host([interactive=true]){cursor:pointer}:host([palette=surface]){background-color:var(--md-sys-color-surface-container-low);border:2px solid var(--md-sys-color-outline-variant);color:var(--md-sys-color-surface-variant-on)}:host([palette=primary]){background-color:var(--md-sys-color-primary-container);border:2px solid var(--md-sys-color-primary);color:var(--md-sys-color-primary)}:host([palette=secondary]){background-color:var(--md-sys-color-secondary-container);border:2px solid var(--md-sys-color-secondary);color:var(--md-sys-color-secondary)}:host([palette=tertiary]){background-color:var(--md-sys-color-tertiary-container);border:2px solid var(--md-sys-color-tertiary);color:var(--md-sys-color-tertiary)}:host([palette=plain]){background-color:transparent;color:var(--md-sys-color-surface-variant-on)}:host([palette=plain][disabled=true]){background-color:transparent;border-color:transparent}:host([interactive=true]:hover) img{opacity:.8}:host([busy=true]:not([disabled=true])){pointer-events:none}:host([busy=true]:not([disabled=true])) img{opacity:.5}:host([busy=true]:not([disabled=true])) .initials{opacity:0}:host([disabled=true]){pointer-events:none;cursor:default;color:color-mix(in oklab,transparent,var(--md-sys-color-surface-on) calc(var(--md-sys-disabled-color) * 100%));background-color:color-mix(in oklab,transparent,var(--md-sys-color-surface-on) calc(var(--md-sys-disabled-background-color) * 100%));border-color:color-mix(in oklab,transparent,var(--md-sys-color-surface-on) calc(var(--md-sys-disabled-border-color) * 100%))}:host([disabled=true]) img{opacity:.5}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i3.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: TouchAreaComponent, selector: "md-touch-area" }, { kind: "component", type: FocusRingComponent, selector: "md-focus-ring", inputs: ["focusVisible"], outputs: ["focusVisibleChange"] }, { kind: "component", type: RippleComponent, selector: "md-ripple, [mdRipple]", inputs: ["hoverable", "interactive"], outputs: ["hoverableChange", "interactiveChange"] }, { kind: "component", type: BadgeComponent, selector: "md-badge", inputs: ["dot", "number", "embedded"], outputs: ["dotChange", "numberChange", "embeddedChange"] }, { kind: "component", type: ProgressIndicatorComponent, selector: "md-progress-indicator", inputs: ["variant", "value", "max", "indeterminate", "fourColor", "size", "width", "buffer", "circleSize"], outputs: ["variantChange", "valueChange", "maxChange", "indeterminateChange", "fourColorChange", "sizeChange", "widthChange", "bufferChange", "circleSizeChange"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.ShadowDom });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.9", ngImport: i0, type: AvatarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'md-avatar', changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.ShadowDom, standalone: true, imports: [
                        CommonModule,
                        TouchAreaComponent,
                        FocusRingComponent,
                        RippleComponent,
                        CommonModule,
                        BadgeComponent,
                        ProgressIndicatorComponent,
                    ], hostDirectives: [ForwardFocusDirective, ParentActivationDirective], host: {
                        '[attr.palette]': 'palette()',
                        '[attr.interactive]': '!!type() || !!href() || null',
                        '[style.--md-comp-avatar-size]': 'size() ?? null',
                        '[attr.disabled]': 'disabled() || null',
                        '[attr.busy]': 'progressIndeterminate() || !!progressValue() || null',
                    }, template: "<ng-template #content>\n  <md-touch-area />\n  @if (src()) {\n  @defer {\n  <img [src]=\"src()\" [alt]=\"fullName()\" />\n  }\n  } @else {\n  <span class=\"initials\">\n    {{ initial() }}\n  </span>\n  }\n</ng-template>\n\n@if (this.type() || this.href()) {\n<md-focus-ring part=\"focus-ring\" [target]=\"button()\" />\n<md-ripple part=\"ripple\" [target]=\"button()\" />\n@if (href()) {\n<a part=\"button\" #button [attr.href]=\"href() ?? null\" [attr.target]=\"anchorTarget() ?? null\"\n  [tabIndex]=\"disabled() ? -1 : 0\">\n  <ng-container *ngTemplateOutlet=\"content\" class=\"content\" />\n</a>\n} @else {\n<button part=\"button\" #button [type]=\"type()\" [disabled]=\"disabled()\" [attr.name]=\"name() ?? null\"\n  [attr.value]=\"value() ?? null\">\n  <ng-container *ngTemplateOutlet=\"content\" />\n</button>\n}\n} @else {\n<ng-container *ngTemplateOutlet=\"content\" />\n}\n@if (badgeDot() || badgeNumber()) {\n<md-badge part=\"badge\" [dot]=\"badgeDot()\" [number]=\"badgeNumber()\" />\n}\n\n@if (!disabled() && (progressValue() || progressIndeterminate())) {\n<md-progress-indicator [value]=\"progressValue()\" [indeterminate]=\"progressIndeterminate()\" />\n}", styles: [":host{--md-comp-avatar-size: 40;--_size-px: calc(var(--md-comp-avatar-size) * 1px);--_color: currentColor;position:relative;border-radius:var(--md-sys-shape-full);height:var(--_size-px);width:var(--_size-px);flex-shrink:0;font-size:var(--md-sys-typescale-label-large-size);font-weight:var(--md-sys-typescale-label-large-weight);font-family:var(--md-sys-typescale-label-large-font);font-size:calc(var(--_size-px) * .45);justify-content:center;align-items:center;display:inline-flex;overflow:hidden;transition-property:background-color,border,color;transition-duration:var(--md-sys-motion-duration-short-4);transition-timing-function:var(--md-sys-motion-easing-standard)}:host img{height:var(--_size-px);width:var(--_size-px);transition-property:opacity;transition-duration:var(--md-sys-motion-duration-short-4);transition-timing-function:var(--md-sys-motion-easing-standard)}:host button,:host a{background-color:transparent;display:inherit;font:inherit;color:inherit;padding:0;margin:0;gap:inherit;text-decoration:none;border-radius:inherit;appearance:none;border:0;outline:none;cursor:pointer;align-items:center;transition-property:opacity;transition-duration:var(--md-sys-motion-duration-short-4);transition-timing-function:var(--md-sys-motion-easing-standard)}:host md-ripple{--md-comp-ripple-color: var(--_color);--md-comp-ripple-transform-default: scale(0);--md-comp-ripple-transform-hover: scale(1);z-index:1}:host md-progress-indicator{--md-comp-progress-indicator-color: var(--_color);--md-comp-progress-indicator-size: calc(var(--md-comp-avatar-size) * .6);position:absolute;display:inline-flex;align-self:center}:host .content{transition-property:opacity;transition-duration:var(--md-sys-motion-duration-short-4);transition-timing-function:var(--md-sys-motion-easing-standard)}:host([interactive=true]){cursor:pointer}:host([palette=surface]){background-color:var(--md-sys-color-surface-container-low);border:2px solid var(--md-sys-color-outline-variant);color:var(--md-sys-color-surface-variant-on)}:host([palette=primary]){background-color:var(--md-sys-color-primary-container);border:2px solid var(--md-sys-color-primary);color:var(--md-sys-color-primary)}:host([palette=secondary]){background-color:var(--md-sys-color-secondary-container);border:2px solid var(--md-sys-color-secondary);color:var(--md-sys-color-secondary)}:host([palette=tertiary]){background-color:var(--md-sys-color-tertiary-container);border:2px solid var(--md-sys-color-tertiary);color:var(--md-sys-color-tertiary)}:host([palette=plain]){background-color:transparent;color:var(--md-sys-color-surface-variant-on)}:host([palette=plain][disabled=true]){background-color:transparent;border-color:transparent}:host([interactive=true]:hover) img{opacity:.8}:host([busy=true]:not([disabled=true])){pointer-events:none}:host([busy=true]:not([disabled=true])) img{opacity:.5}:host([busy=true]:not([disabled=true])) .initials{opacity:0}:host([disabled=true]){pointer-events:none;cursor:default;color:color-mix(in oklab,transparent,var(--md-sys-color-surface-on) calc(var(--md-sys-disabled-color) * 100%));background-color:color-mix(in oklab,transparent,var(--md-sys-color-surface-on) calc(var(--md-sys-disabled-background-color) * 100%));border-color:color-mix(in oklab,transparent,var(--md-sys-color-surface-on) calc(var(--md-sys-disabled-border-color) * 100%))}:host([disabled=true]) img{opacity:.5}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXZhdGFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3d0cHJvZ3JhbXMvbWF0ZXJpYWwtZGVzaWduL3NyYy9saWIvY29tcG9uZW50cy9hdmF0YXIvYXZhdGFyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3d0cHJvZ3JhbXMvbWF0ZXJpYWwtZGVzaWduL3NyYy9saWIvY29tcG9uZW50cy9hdmF0YXIvYXZhdGFyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsU0FBUyxFQUNULFFBQVEsRUFFUixLQUFLLEVBQ0wsU0FBUyxFQUNULGlCQUFpQixHQUNsQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN2RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFDakYsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3hFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLDhDQUE4QyxDQUFDO0FBRXpGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxvREFBb0QsQ0FBQztBQUNoRyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDckUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7Ozs7O0FBa0N4RSxNQUFNLE9BQU8sZUFBZ0IsU0FBUSx1QkFBdUI7SUFDakQsUUFBUSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4QixJQUFJLEdBQUcsS0FBSyxDQUFnQyxTQUFTLENBQUMsQ0FBQztJQUN2RCxJQUFJLEdBQUcsS0FBSyxFQUFVLENBQUM7SUFDdkIsWUFBWSxHQUFHLEtBQUssRUFBVSxDQUFDO0lBQy9CLElBQUksR0FBRyxLQUFLLEVBQVUsQ0FBQztJQUN2QixLQUFLLEdBQUcsS0FBSyxFQUFVLENBQUM7SUFDeEIscUJBQXFCLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLGFBQWEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsV0FBVyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixRQUFRLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLFdBQVcsR0FBRyxLQUFLLEVBQVUsQ0FBQztJQUM5QixHQUFHLEdBQUcsS0FBSyxFQUFVLENBQUM7SUFDdEIsT0FBTyxHQUFHLEtBQUssQ0FBZ0IsU0FBUyxDQUFDLENBQUM7SUFDMUMsUUFBUSxHQUFHLEtBQUssRUFBVSxDQUFDO0lBQzNCLElBQUksR0FBRyxLQUFLLEVBQVUsQ0FBQztJQUN2QixJQUFJLEdBQUcsS0FBSyxFQUFVLENBQUM7SUFFdkIsTUFBTSxHQUNiLFNBQVMsQ0FBb0QsUUFBUSxDQUFDLENBQUM7SUFFaEUsT0FBTyxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FDL0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FDM0MsQ0FBQztJQUVGO1FBQ0UsS0FBSyxFQUFFLENBQUM7UUFDUixZQUFZLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pELFlBQVksQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdkQsQ0FBQzt1R0E3QlUsZUFBZTsyRkFBZixlQUFlLGtpR0NyRDVCLHVwQ0FvQ0MsMDJHREFHLFlBQVksc01BQ1osa0JBQWtCLDBEQUNsQixrQkFBa0IscUhBQ2xCLGVBQWUsMkpBRWYsY0FBYyxzSkFDZCwwQkFBMEI7OzJGQVdqQixlQUFlO2tCQXpCM0IsU0FBUzsrQkFDRSxXQUFXLG1CQUdKLHVCQUF1QixDQUFDLE1BQU0saUJBQ2hDLGlCQUFpQixDQUFDLFNBQVMsY0FDOUIsSUFBSSxXQUNQO3dCQUNQLFlBQVk7d0JBQ1osa0JBQWtCO3dCQUNsQixrQkFBa0I7d0JBQ2xCLGVBQWU7d0JBQ2YsWUFBWTt3QkFDWixjQUFjO3dCQUNkLDBCQUEwQjtxQkFDM0Isa0JBQ2UsQ0FBQyxxQkFBcUIsRUFBRSx5QkFBeUIsQ0FBQyxRQUM1RDt3QkFDSixnQkFBZ0IsRUFBRSxXQUFXO3dCQUM3QixvQkFBb0IsRUFBRSw4QkFBOEI7d0JBQ3BELCtCQUErQixFQUFFLGdCQUFnQjt3QkFDakQsaUJBQWlCLEVBQUUsb0JBQW9CO3dCQUN2QyxhQUFhLEVBQUUsc0RBQXNEO3FCQUN0RSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIGNvbXB1dGVkLFxuICBFbGVtZW50UmVmLFxuICBtb2RlbCxcbiAgdmlld0NoaWxkLFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRlcmlhbERlc2lnbkNvbXBvbmVudCB9IGZyb20gJy4uL21hdGVyaWFsLWRlc2lnbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgUmlwcGxlQ29tcG9uZW50IH0gZnJvbSAnLi4vcmlwcGxlL3JpcHBsZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9yd2FyZEZvY3VzRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9mb3J3YXJkLWZvY3VzLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgVG91Y2hBcmVhQ29tcG9uZW50IH0gZnJvbSAnLi4vdG91Y2gtYXJlYS90b3VjaC1hcmVhLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQYXJlbnRBY3RpdmF0aW9uRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9wYXJlbnQtYWN0aXZhdGlvbi5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgRm9ybVN1Ym1pdHRlclR5cGUgfSBmcm9tICcuLi8uLi9jb21tb24vZm9ybXMvZm9ybS1zdWJtaXR0ZWQtdHlwZSc7XG5pbXBvcnQgeyBCYWRnZUNvbXBvbmVudCB9IGZyb20gJy4uL2JhZGdlL2JhZGdlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQcm9ncmVzc0luZGljYXRvckNvbXBvbmVudCB9IGZyb20gJy4uL3Byb2dyZXNzLWluZGljYXRvci9wcm9ncmVzcy1pbmRpY2F0b3IuY29tcG9uZW50JztcbmltcG9ydCB7IGF0dGFjaFRhcmdldCB9IGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMvYXR0YWNoYWJsZS5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgRm9jdXNSaW5nQ29tcG9uZW50IH0gZnJvbSAnLi4vZm9jdXMtcmluZy9mb2N1cy1yaW5nLmNvbXBvbmVudCc7XG5cbmV4cG9ydCB0eXBlIEF2YXRhclBhbGV0dGUgPVxuICB8ICdzdXJmYWNlJ1xuICB8ICdwcmltYXJ5J1xuICB8ICdzZWNvbmRhcnknXG4gIHwgJ3RlcnRpYXJ5J1xuICB8ICdwbGFpbic7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21kLWF2YXRhcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9hdmF0YXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybDogJy4vYXZhdGFyLmNvbXBvbmVudC5zY3NzJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLlNoYWRvd0RvbSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBUb3VjaEFyZWFDb21wb25lbnQsXG4gICAgRm9jdXNSaW5nQ29tcG9uZW50LFxuICAgIFJpcHBsZUNvbXBvbmVudCxcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgQmFkZ2VDb21wb25lbnQsXG4gICAgUHJvZ3Jlc3NJbmRpY2F0b3JDb21wb25lbnQsXG4gIF0sXG4gIGhvc3REaXJlY3RpdmVzOiBbRm9yd2FyZEZvY3VzRGlyZWN0aXZlLCBQYXJlbnRBY3RpdmF0aW9uRGlyZWN0aXZlXSxcbiAgaG9zdDoge1xuICAgICdbYXR0ci5wYWxldHRlXSc6ICdwYWxldHRlKCknLFxuICAgICdbYXR0ci5pbnRlcmFjdGl2ZV0nOiAnISF0eXBlKCkgfHwgISFocmVmKCkgfHwgbnVsbCcsXG4gICAgJ1tzdHlsZS4tLW1kLWNvbXAtYXZhdGFyLXNpemVdJzogJ3NpemUoKSA/PyBudWxsJyxcbiAgICAnW2F0dHIuZGlzYWJsZWRdJzogJ2Rpc2FibGVkKCkgfHwgbnVsbCcsXG4gICAgJ1thdHRyLmJ1c3ldJzogJ3Byb2dyZXNzSW5kZXRlcm1pbmF0ZSgpIHx8ICEhcHJvZ3Jlc3NWYWx1ZSgpIHx8IG51bGwnLFxuICB9LFxufSlcbmV4cG9ydCBjbGFzcyBBdmF0YXJDb21wb25lbnQgZXh0ZW5kcyBNYXRlcmlhbERlc2lnbkNvbXBvbmVudCB7XG4gIHJlYWRvbmx5IGRpc2FibGVkID0gbW9kZWwoZmFsc2UpO1xuICByZWFkb25seSB0eXBlID0gbW9kZWw8Rm9ybVN1Ym1pdHRlclR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHJlYWRvbmx5IGhyZWYgPSBtb2RlbDxzdHJpbmc+KCk7XG4gIHJlYWRvbmx5IGFuY2hvclRhcmdldCA9IG1vZGVsPHN0cmluZz4oKTtcbiAgcmVhZG9ubHkgbmFtZSA9IG1vZGVsPHN0cmluZz4oKTtcbiAgcmVhZG9ubHkgdmFsdWUgPSBtb2RlbDxzdHJpbmc+KCk7XG4gIHJlYWRvbmx5IHByb2dyZXNzSW5kZXRlcm1pbmF0ZSA9IG1vZGVsKGZhbHNlKTtcbiAgcmVhZG9ubHkgcHJvZ3Jlc3NWYWx1ZSA9IG1vZGVsKDApO1xuICByZWFkb25seSBwcm9ncmVzc01heCA9IG1vZGVsKDApO1xuICByZWFkb25seSBiYWRnZURvdCA9IG1vZGVsKGZhbHNlKTtcbiAgcmVhZG9ubHkgYmFkZ2VOdW1iZXIgPSBtb2RlbDxudW1iZXI+KCk7XG4gIHJlYWRvbmx5IHNyYyA9IG1vZGVsPHN0cmluZz4oKTtcbiAgcmVhZG9ubHkgcGFsZXR0ZSA9IG1vZGVsPEF2YXRhclBhbGV0dGU+KCdwcmltYXJ5Jyk7XG4gIHJlYWRvbmx5IGZ1bGxOYW1lID0gbW9kZWw8c3RyaW5nPigpO1xuICByZWFkb25seSBzaXplID0gbW9kZWw8bnVtYmVyPigpO1xuICByZWFkb25seSBzbG90ID0gbW9kZWw8c3RyaW5nPigpO1xuXG4gIHJlYWRvbmx5IGJ1dHRvbiA9XG4gICAgdmlld0NoaWxkPEVsZW1lbnRSZWY8SFRNTEJ1dHRvbkVsZW1lbnQgfCBIVE1MQW5jaG9yRWxlbWVudD4+KCdidXR0b24nKTtcblxuICByZWFkb25seSBpbml0aWFsID0gY29tcHV0ZWQoKCkgPT5cbiAgICB0aGlzLmZ1bGxOYW1lKCkgPyB0aGlzLmZ1bGxOYW1lKCkhWzBdIDogJydcbiAgKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGF0dGFjaFRhcmdldChGb3J3YXJkRm9jdXNEaXJlY3RpdmUsIHRoaXMuYnV0dG9uKTtcbiAgICBhdHRhY2hUYXJnZXQoUGFyZW50QWN0aXZhdGlvbkRpcmVjdGl2ZSwgdGhpcy5idXR0b24pO1xuICB9XG59XG4iLCI8bmctdGVtcGxhdGUgI2NvbnRlbnQ+XG4gIDxtZC10b3VjaC1hcmVhIC8+XG4gIEBpZiAoc3JjKCkpIHtcbiAgQGRlZmVyIHtcbiAgPGltZyBbc3JjXT1cInNyYygpXCIgW2FsdF09XCJmdWxsTmFtZSgpXCIgLz5cbiAgfVxuICB9IEBlbHNlIHtcbiAgPHNwYW4gY2xhc3M9XCJpbml0aWFsc1wiPlxuICAgIHt7IGluaXRpYWwoKSB9fVxuICA8L3NwYW4+XG4gIH1cbjwvbmctdGVtcGxhdGU+XG5cbkBpZiAodGhpcy50eXBlKCkgfHwgdGhpcy5ocmVmKCkpIHtcbjxtZC1mb2N1cy1yaW5nIHBhcnQ9XCJmb2N1cy1yaW5nXCIgW3RhcmdldF09XCJidXR0b24oKVwiIC8+XG48bWQtcmlwcGxlIHBhcnQ9XCJyaXBwbGVcIiBbdGFyZ2V0XT1cImJ1dHRvbigpXCIgLz5cbkBpZiAoaHJlZigpKSB7XG48YSBwYXJ0PVwiYnV0dG9uXCIgI2J1dHRvbiBbYXR0ci5ocmVmXT1cImhyZWYoKSA/PyBudWxsXCIgW2F0dHIudGFyZ2V0XT1cImFuY2hvclRhcmdldCgpID8/IG51bGxcIlxuICBbdGFiSW5kZXhdPVwiZGlzYWJsZWQoKSA/IC0xIDogMFwiPlxuICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiY29udGVudFwiIGNsYXNzPVwiY29udGVudFwiIC8+XG48L2E+XG59IEBlbHNlIHtcbjxidXR0b24gcGFydD1cImJ1dHRvblwiICNidXR0b24gW3R5cGVdPVwidHlwZSgpXCIgW2Rpc2FibGVkXT1cImRpc2FibGVkKClcIiBbYXR0ci5uYW1lXT1cIm5hbWUoKSA/PyBudWxsXCJcbiAgW2F0dHIudmFsdWVdPVwidmFsdWUoKSA/PyBudWxsXCI+XG4gIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJjb250ZW50XCIgLz5cbjwvYnV0dG9uPlxufVxufSBAZWxzZSB7XG48bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiY29udGVudFwiIC8+XG59XG5AaWYgKGJhZGdlRG90KCkgfHwgYmFkZ2VOdW1iZXIoKSkge1xuPG1kLWJhZGdlIHBhcnQ9XCJiYWRnZVwiIFtkb3RdPVwiYmFkZ2VEb3QoKVwiIFtudW1iZXJdPVwiYmFkZ2VOdW1iZXIoKVwiIC8+XG59XG5cbkBpZiAoIWRpc2FibGVkKCkgJiYgKHByb2dyZXNzVmFsdWUoKSB8fCBwcm9ncmVzc0luZGV0ZXJtaW5hdGUoKSkpIHtcbjxtZC1wcm9ncmVzcy1pbmRpY2F0b3IgW3ZhbHVlXT1cInByb2dyZXNzVmFsdWUoKVwiIFtpbmRldGVybWluYXRlXT1cInByb2dyZXNzSW5kZXRlcm1pbmF0ZSgpXCIgLz5cbn0iXX0=